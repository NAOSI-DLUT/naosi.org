---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const entries = await getCollection("events");
---

<Layout>
  {
    entries
      .sort((a, b) => {
        return b.data.date - a.data.date;
      })
      .map((entry) => (
        <article>
          <h2>
            <a href={`/events/${entry.slug}`}>{entry.data.title}</a>
          </h2>
          <p>{entry.body.slice(0, 200)}</p>
        </article>
      ))
  }
</Layout>
